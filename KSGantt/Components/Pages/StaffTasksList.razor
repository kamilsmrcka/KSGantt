@page "/StaffTasksList"
@using KSGantt.Db
@rendermode InteractiveServer

<PageTitle>Plánování</PageTitle>
<RadzenText TextStyle="TextStyle.H5">Plánování</RadzenText>

<RadzenDataGrid PageSize="5" AllowPaging="true" AllowSorting="true" ColumnWidth="200px" Data="@innerList" AllowFiltering="true">
    <Columns>
        <RadzenDataGridColumn Property="@nameof(KSStaffTask.Id)" Title="ID" Visible="false" />
        <RadzenDataGridColumn Property="@nameof(KSStaffTask.StartTime)" Title="Zahájení" />
        <RadzenDataGridColumn Property="KSStaffTask.Project.Name" Title="Projekt" />
        <RadzenDataGridColumn Property="KSStaffTask.Staff.Name" Title="Pracovník" />
        <RadzenDataGridColumn Property="KSStaffTask.Task.Name" Title="Úloha" />
        <RadzenDataGridColumn Property="@nameof(KSStaffTask.HoursCount)" Title="Odhad pracnosti" />
        <RadzenDataGridColumn Property="@nameof(KSStaffTask.CreateDate)" Title="Vytvořeno" />
    </Columns>
</RadzenDataGrid>

@code {
    List<KSStaffTask> innerList;

    protected override Task OnInitializedAsync()
    {
        innerList = Db.DbHelper.staffTasks;
        return base.OnInitializedAsync();

    }

}